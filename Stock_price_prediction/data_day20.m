function output_result=data_day20(data)
           %clc;这个数据是左右平均
           %data=[0.157183537895989,0.127396346372870,0.127594974253478,0.129175809223486,0.368511833005896,0.167338089814601,0.222763384896039,0.174422713587727,0.0744627988714740,0.216467910237299,0.139064281787518,0.424655172513320,0.210336961869050,0.0782898598201002,0.299213936122288,0.144163003023789,0.0877359641001922,0.345719061827242,0.184288581100925,0.148594887945942,0.145460818413766,0.0663521232194712,0.139070798310542,0.264751009316195,0.203930820511417,0.137839133084555,0.259188823942087,0.167772046659068,0.136235948512305,0.117994366792619,0.104155094068067,0.116174996324642,0.163053629692043,0.230294710642957,0.364777592671981,0.253147969012245,0.130147634662337,0.0804055212054896,0.0711431046103659,0.231608923918574,0.437368934554393,0.600830686706358,0.302007344771000,0.674636224585764,0.562124204533173,0.162601514840860,0.110048497047439,0.133377239609634,0.145142693145779,0.0691145234785275,0.142553234230503,0.0647165989576222,0.0462477500037015,0.0496347471745095,0.156285912492325,0.0827418652226595,0.246660143461800,0.0908027288039528,0.0449627204760670,0.110438052547647,0.0634785382958829,0.0398788170493540,0.0426721726611665,0.0618385616540444,0.0634566389044198,0.0282187843791617,0.0195361385064862,0,0.0612314893481786,0.0302235067558157,0.0305149893265161,0.0189088921253065,0.00686423715517707,0.0652001520749117,0.0202873369848329,0.282499900572103,0.161101054488384,0.111961837930141,0.0938945247352632,0.0207173724000731,0.161963835490498,0.0759536609436171,0.116201728535496]


         [data_r,data_c]=size(data);
         if data_r ~=1 && ~isempty(find(data==0,1) )
             error('Invalid argument provided. The length of the data shoulb be 4 and nonzero');
         end
         
         if data_c < 30
             output_result=0; %数据量小于200是不分析的,默认的数据是400个
             return;
         end



  
%%
       output_result=zeros(1,data_c); %创建20天平均值                  
               for i = 1:data_c
                    
                     if i<11
                         output_result(i) = sum(data(1:i+10))/(i+10);
                     elseif i>data_c-11  %389
                         output_result(i) = sum(data(i-10:data_c))/(data_c-i+11);
                     else
                         output_result(i) = sum(data(i-10:i+10))/21;
                     end
                     
               end
%    再次平滑
      for j=1:data_c   %将曲线再次平滑，左右六个点再次平均一次
           
           if j<7
               output_result(j)=sum(output_result(1:j+6))/(j+6);
           elseif j>data_c-7 %393
               output_result(j)=sum(output_result(j-6:data_c))/(data_c-j+7);
           else
               output_result(j)=sum(output_result(j-6:j+6))/13;
           end
           
      end
      
      
end

